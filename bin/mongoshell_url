#!/usr/bin/env node
// Generated by LiveScript 1.5.0
(function(){
  var mongoUri, spawn, mongourl, login, host, db, user, passwd;
  mongoUri = require('mongo-uri');
  spawn = require('child_process').spawn;
  mongourl = process.argv[2];
  if (mongourl == null) {
    console.log('must provide mongourl');
    process.exit();
  }
  if (mongourl.indexOf('mongodb://') !== 0) {
    console.log('mongourl does not begin with mongodb://');
    process.exit();
  }
  login = mongoUri.parse(mongourl);
  host = login['hosts'][0] + ':' + login['ports'][0];
  db = login['database'];
  user = login['username'];
  passwd = login['password'];
  spawn('mongo', ['-u', user, '-p', passwd, host + "/" + db], {
    stdio: 'inherit'
  });
}).call(this);
